{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "A related entity registration allows multiple companies to be linked",
  "type": "object",
  "properties": {
    "registration_type": {
      "description": "The type of the related registration. Use 'predecessor' to link to the prior registration, 'successor' to link to the replacement registration or 'alternate' to link to an alternative registration, e.g. for companies registered more than once in a jurisdiction.",
      "enum": [
        "predecessor",
        "successor",
        "alternate"
      ]
    },
    "related_company": {
      "description": "the related company",
      "$ref": "company-for-nesting.json"
    },
    "start_date": {
      "description": "date when related registration was valid from",
      "type": "string",
      "format": "date"
    },
    "end_date": {
      "description": "date when related registration was valid to",
      "type": "string",
      "format": "date"
    },
    "sample_date": {
      "description": "date when related registration was sampled",
      "type": "string",
      "format": "date"
    },
    "source_url": {
      "description": "URL of the source of the data (e.g. download URL), or if there is not persistent URL the page from which it can be found (e.g. search page)",
      "type": "string"
    }
  },
  "additionalProperties": false,
  "required": [
    "registration_type",
    "related_company"
  ],
  "anyOf": [
    {
      "required": [
        "start_date"
      ]
    },
    {
      "required": [
        "end_date"
      ]
    },
    {
      "required": [
        "sample_date"
      ]
    }
  ]
}
